{"id":"../src/systems/manage_game.ts","dependencies":[{"name":"D:\\projet\\space_snake\\tsconfig.json","includedInParent":true,"mtime":1576583541339},{"name":"D:\\projet\\space_snake\\package.json","includedInParent":true,"mtime":1576500313740}],"generated":{"js":"\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ManageGame =\n/*#__PURE__*/\nfunction () {\n  function ManageGame() {\n    _classCallCheck(this, ManageGame);\n\n    this.name = 'ManageGame';\n  }\n\n  _createClass(ManageGame, [{\n    key: \"onUpdate\",\n    value: function onUpdate(em, context) {\n      var _a;\n\n      var gameState = (_a = em.selectGlobal('gameState')) === null || _a === void 0 ? void 0 : _a.get('GameState');\n      var entities = em.select(['Ship', 'HasToBeDeleted']);\n\n      if (entities.has('Ship')) {\n        gameState.ending();\n        em.addComponents('gameState', gameState);\n      }\n    }\n  }]);\n\n  return ManageGame;\n}();\n\nexports.ManageGame = ManageGame;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":13},"generated":{"line":13,"column":4}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":16,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":16,"column":24}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":17,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":19,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":19,"column":9}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":19,"column":13}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":6,"column":9},"generated":{"line":19,"column":16}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":19,"column":28}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":17,"column":1},"generated":{"line":20,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":8,"column":11},"generated":{"line":24,"column":29}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":8,"column":45},"generated":{"line":24,"column":33}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":8,"column":67},"generated":{"line":24,"column":42}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":27,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":27,"column":10}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":19},"generated":{"line":27,"column":19}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":22}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":23}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":25}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":28}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":24},"generated":{"line":27,"column":30}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":25},"generated":{"line":27,"column":31}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":43}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":38},"generated":{"line":27,"column":44}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":55}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":56}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":62}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":66}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":70}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":72}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":77}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":82}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":83}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":86}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":91}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":27,"column":92}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":95}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":97}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":52},"generated":{"line":27,"column":98}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":101}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":56},"generated":{"line":27,"column":102}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":50},"generated":{"line":27,"column":113}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":27,"column":114}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":28,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":10},"generated":{"line":28,"column":10}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":18},"generated":{"line":28,"column":18}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":21},"generated":{"line":28,"column":21}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":23},"generated":{"line":28,"column":23}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":24},"generated":{"line":28,"column":24}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":21},"generated":{"line":28,"column":30}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":31},"generated":{"line":28,"column":31}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":32},"generated":{"line":28,"column":32}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":31},"generated":{"line":28,"column":38}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":40},"generated":{"line":28,"column":40}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":31},"generated":{"line":28,"column":56}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":21},"generated":{"line":28,"column":57}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":28,"column":58}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":30,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":30,"column":10}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":30,"column":18}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":17},"generated":{"line":30,"column":19}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":30,"column":22}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":21},"generated":{"line":30,"column":23}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":30,"column":29}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":30,"column":30}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":12,"column":30},"generated":{"line":30,"column":32}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":31,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":31,"column":8}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":13,"column":17},"generated":{"line":31,"column":17}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":13,"column":18},"generated":{"line":31,"column":18}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":31,"column":24}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":32,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":32,"column":8}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":10},"generated":{"line":32,"column":10}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":32,"column":11}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":32,"column":24}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":25},"generated":{"line":32,"column":25}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":32,"column":36}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":38},"generated":{"line":32,"column":38}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":32,"column":47}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":15,"column":5},"generated":{"line":33,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":16,"column":3},"generated":{"line":34,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":40,"column":0}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":40,"column":7}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":40,"column":8}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":40,"column":18}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":40,"column":21}},{"source":"../src/systems/manage_game.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":40,"column":31}}],"sources":{"../src/systems/manage_game.ts":"import { EntityManager, System } from '../ecs_engine';\r\nimport { UpdateContext } from '../update_context';\r\nimport { GameState } from '../components/game_state';\r\n\r\nexport class ManageGame implements System<UpdateContext> {\r\n  name = 'ManageGame';\r\n\r\n  onUpdate(em: EntityManager<UpdateContext>, context: UpdateContext): void {\r\n    const gameState = em.selectGlobal('gameState')?.get('GameState') as GameState;\r\n    const entities = em.select(['Ship', 'HasToBeDeleted']);\r\n\r\n    if (entities.has('Ship')) {\r\n        gameState.ending();\r\n        em.addComponents('gameState', gameState);\r\n    }\r\n  }\r\n}"},"lineCount":null}},"error":null,"hash":"92eaad0bc7489470594dccdd5aec931d","cacheData":{"env":{}}}